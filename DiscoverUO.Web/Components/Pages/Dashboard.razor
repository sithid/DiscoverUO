@page "/dashboard"
@using DiscoverUO.Lib.Shared
@using DiscoverUO.Lib.Shared.Users
@using DiscoverUO.Web.Components.Data
@using System.Net.Http.Headers
@inject ILocalStorageService _localStorage
@inject HttpClient _client

<PageTitle>Dashboard</PageTitle>

<MudContainer >
    <MudItem>
        <MudPaper Elevation="1" >
            Welcome back, @DashboardData?.Username!
        </MudPaper>
    </MudItem>
</MudContainer>

@code
{
    public DashboardData DashboardData { get; set; }

    protected async override Task OnInitializedAsync()
    {
        DashboardData = await DataManager.GetDashboard(_client, _localStorage);
        StateHasChanged();
    }
}