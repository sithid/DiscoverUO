@inject ILocalStorageService _localStorage
@page "/"

<PageTitle>Home</PageTitle>

<MudContainer Class="mt-12 px-8" MaxWidth="MaxWidth.False">
    <MudText style="font-size: 64px" Align="Align.Center" Color="Color.Primary" GutterBottom="true">Welcome to DiscoverUO!</MudText>
</MudContainer>

@code
{
    private bool _prevSessionsCleared = false;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if( !firstRender )
        {

        }
        else
        {
            if (!_prevSessionsCleared)
            {
                Console.WriteLine("First visit to the homepage!");

                await _localStorage.ClearAsync();
                _prevSessionsCleared = true;
                StateHasChanged();
            }

        }
        base.OnAfterRenderAsync(firstRender);
    }
}
